let c={};function b(i,t){const s=document.getElementById(i);if(!s)throw new Error("element not found");const r=o=>{var l;const e=(l=s.files)==null?void 0:l.item(0);if(e)if(c[i]&&URL.revokeObjectURL(c[i]),c[i]=URL.createObjectURL(e),typeof t=="string"){const n=document.getElementById(t);if(!n)return;n.nodeName!="IMG"?n.replaceWith(p(`<img id="${t}" class="w-[9rem] aspect-square object-cover object-center text-gray-400" src="${c[i]}" alt="">`)):n.src=c[i]}else t(c[i],e)};return s.addEventListener("change",r),()=>{s.removeEventListener("change",r)}}function f(i,t){const s=document.getElementById(i),r=s.querySelector("thead"),o=s.querySelector("tbody"),e=r.querySelector("input[type=checkbox]"),n=[...o.querySelectorAll("tr input[type=checkbox]")];e.addEventListener("change",h=>{n.forEach(d=>{d.checked=e.checked}),t==null||t.call(null,e)}),n.forEach(h=>{h.addEventListener("change",d=>{let a=!1;for(const m of n)if(a){if(m.checked==a)continue;e.indeterminate=!0,t==null||t.call(null,e);return}else a=m.checked;e.checked=a,e.indeterminate=!1,t==null||t.call(null,e)})})}function v(i,t){const s=document.querySelector(i),r=o=>{for(const e of s.children)e.value==o?(e.classList.add("bg-primary"),e.classList.remove("bg-base-200"),e.classList.add("text-primary-content"),e.classList.remove("text-base-content"),e.classList.toggle("hover:bg-base-300")):(e.classList.remove("bg-primary"),e.classList.add("bg-base-200"),e.classList.remove("text-primary-content"),e.classList.add("text-base-content"),e.addEventListener("click",()=>{t==null||t(e.value),r(e.value)},{once:!0}))};return r}const u=new DOMParser;function p(i){return u.parseFromString(i,"text/html").body.firstChild}class y extends Promise{constructor(t){let s,r;super((o,e)=>{s=o,r=e,t==null||t(o,e)}),this.resolver=s,this.rejector=r}static get[Symbol.species](){return Promise}}class g{constructor(t){this.time=0,this.progress=0,this.timeout=2e3,this.startValue=0,this.max=100,this.interval=8,this.delay=100,this.percent=0,this.id=0,this.idEnd=0;const s=Object.assign({},{max:100,time:0,progress:0,timeout:2e3,completion:1e3,alwaysReset:!1},t);this.max=s.max,this.time=s.time,this.timeout=s.timeout,this.progress=s.progress,this.percent=this.genPercent(),this.options=s}start(){this.addStart(),this.addFinish()}resume(){this.addStart(),this.addFinish()}pause(){clearInterval(this.id),clearTimeout(this.idEnd)}finish(){this.pause(),this.time=0,this.timeout=this.options.completion,this.percent=this.genPercent(),this.addStart(),this.addFinish()}stop(){this.pause()}reset(){this.time=0,this.timeout=this.options.timeout,this.percent=this.genPercent(),this.progress=0}genPercent(){return this.max/this.timeout}addStart(){var r;const t=this.interval,s=this.percent;(r=this.onStart)==null||r.call(this),this.id=setInterval(()=>{var o;(o=this.onProgress)==null||o.call(this,this.progress),this.time+=t,this.progress+=s*t},t)}addFinish(){this.idEnd=setTimeout(()=>{var t;clearInterval(this.id),(t=this.onFinish)==null||t.call(this),this.stop(),this.options.alwaysReset&&this.reset()},this.timeout+this.delay-this.time)}}export{y as P,g as S,f as a,p as c,b as i,v as t};
